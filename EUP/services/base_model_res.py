
BASE_MODEL_RES = {
    "SD 1.4 & SD 1.5": {
        "FP16": {
            "4GB": {
                "Practical Max - WxH": "512×512",
                "Practical Max - Average": 512,
                "Slow Max - WxH": "576×576",
                "Slow Max - Average": 576
            },
            "6GB": {
                "Practical Max - WxH": "768×768",
                "Practical Max - Average": 768,
                "Slow Max - WxH": "896×896",
                "Slow Max - Average": 896
            },
            "8GB": {
                "Practical Max - WxH": "1024×1024",
                "Practical Max - Average": 1024,
                "Slow Max - WxH": "1152×1152",
                "Slow Max - Average": 1152
            },
            "10GB": {
                "Practical Max - WxH": "1152×1152",
                "Practical Max - Average": 1152,
                "Slow Max - WxH": "1280×1280",
                "Slow Max - Average": 1280
            },
            "12GB": {
                "Practical Max - WxH": "1280×1280",
                "Practical Max - Average": 1280,
                "Slow Max - WxH": "1536×1536",
                "Slow Max - Average": 1536
            },
            "16GB": {
                "Practical Max - WxH": "1536×1536",
                "Practical Max - Average": 1536,
                "Slow Max - WxH": "1792×1792",
                "Slow Max - Average": 1792
            },
            "24GB": {
                "Practical Max - WxH": "1792×1792",
                "Practical Max - Average": 1792,
                "Slow Max - WxH": "2048×2048",
                "Slow Max - Average": 2048
            },
            "32GB": {
                "Practical Max - WxH": "2048×2048",
                "Practical Max - Average": 2048,
                "Slow Max - WxH": "2560×2560",
                "Slow Max - Average": 2560
            },
            "40GB": {
                "Practical Max - WxH": "2560×2560",
                "Practical Max - Average": 2560,
                "Slow Max - WxH": "3072×3072",
                "Slow Max - Average": 3072
            }
        },
        "FP32": {
            "4GB": {
                "Practical Max - WxH": "512×512",
                "Practical Max - Average": 512,
                "Slow Max - WxH": "576×576",
                "Slow Max - Average": 576
            },
            "6GB": {
                "Practical Max - WxH": "768×768",
                "Practical Max - Average": 768,
                "Slow Max - WxH": "896×896",
                "Slow Max - Average": 896
            },
            "8GB": {
                "Practical Max - WxH": "1024×1024",
                "Practical Max - Average": 1024,
                "Slow Max - WxH": "1152×1152",
                "Slow Max - Average": 1152
            },
            "10GB": {
                "Practical Max - WxH": "1152×1152",
                "Practical Max - Average": 1152,
                "Slow Max - WxH": "1280×1280",
                "Slow Max - Average": 1280
            },
            "12GB": {
                "Practical Max - WxH": "1280×1280",
                "Practical Max - Average": 1280,
                "Slow Max - WxH": "1536×1536",
                "Slow Max - Average": 1536
            },
            "16GB": {
                "Practical Max - WxH": "1536×1536",
                "Practical Max - Average": 1536,
                "Slow Max - WxH": "1792×1792",
                "Slow Max - Average": 1792
            },
            "24GB": {
                "Practical Max - WxH": "1792×1792",
                "Practical Max - Average": 1792,
                "Slow Max - WxH": "2048×2048",
                "Slow Max - Average": 2048
            },
            "32GB": {
                "Practical Max - WxH": "2048×2048",
                "Practical Max - Average": 2048,
                "Slow Max - WxH": "2560×2560",
                "Slow Max - Average": 2560
            },
            "40GB": {
                "Practical Max - WxH": "2560×2560",
                "Practical Max - Average": 2560,
                "Slow Max - WxH": "3072×3072",
                "Slow Max - Average": 3072
            },
        },
    },
    "SDXL 1.0" : {
        "FP16" : {
            "8GB" : {
                "Practical Max - WxH" : "1024×1024",
                "Practical Max - Average" : 1024,
                "Slow Max - WxH" : "1152×1152",
                "Slow Max - Average" : 1152,
            },
            "10GB": {
                "Practical Max - WxH": "1152×1152",
                "Practical Max - Average": 1152,
                "Slow Max - WxH": "1280×1280",
                "Slow Max - Average": 1280
            },
            "12GB" : {
                "Practical Max - WxH" : "1280×1280",
                "Practical Max - Average" : 1280,
                "Slow Max - WxH" : "1536×1536",
                "Slow Max - Average" : 1536,
            },
            "16GB" : {
                "Practical Max - WxH" : "1536×1536",
                "Practical Max - Average" : 1536,
                "Slow Max - WxH" : "1792×1792",
                "Slow Max - Average" : 1792,
            },
            "24GB" : {
                "Practical Max - WxH" : "1792×1792",
                "Practical Max - Average" : 1792,
                "Slow Max - WxH" : "2048×2048",
                "Slow Max - Average" : 2048,
            },
            "32GB" : {
                "Practical Max - WxH" : "2048×2048",
                "Practical Max - Average" : 2048,
                "Slow Max - WxH" : "2560×2560",
                "Slow Max - Average" : 2560,
            },
            "40GB" : {
                "Practical Max - WxH" : "2560×2560",
                "Practical Max - Average" : 2560,
                "Slow Max - WxH" : "3072×3072",
                "Slow Max - Average" : 3072,
            },
        },
        "FP32" : {
            "8GB" : {
                "Practical Max - WxH" : "1024×1024",
                "Practical Max - Average" : 1024,
                "Slow Max - WxH" : "1152×1152",
                "Slow Max - Average" : 1152,
            },
            "10GB": {
                "Practical Max - WxH": "1152×1152",
                "Practical Max - Average": 1152,
                "Slow Max - WxH": "1280×1280",
                "Slow Max - Average": 1280
            },
            "12GB" : {
                "Practical Max - WxH" : "1152×1152",
                "Practical Max - Average" : 1152,
                "Slow Max - WxH" : "1280×1280",
                "Slow Max - Average" : 1280,
            },
            "16GB" : {
                "Practical Max - WxH" : "1280×1280",
                "Practical Max - Average" : 1280,
                "Slow Max - WxH" : "1536×1536",
                "Slow Max - Average" : 1536,
            },
            "24GB" : {
                "Practical Max - WxH" : "1536×1536",
                "Practical Max - Average" : 1536,
                "Slow Max - WxH" : "1792×1792",
                "Slow Max - Average" : 1792,
            },
            "32GB" : {
                "Practical Max - WxH" : "1792×1792",
                "Practical Max - Average" : 1792,
                "Slow Max - WxH" : "2048×2048",
                "Slow Max - Average" : 2048,
            },
            "40GB" : {
                "Practical Max - WxH" : "2048×2048",
                "Practical Max - Average" : 2048,
                "Slow Max - WxH" : "2560×2560",
                "Slow Max - Average" : 2560,
            },
        },
    },
    "SD 2.0": {
        "FP16": {
            "8GB": {
                "Practical Max - WxH": "896×896",
                "Practical Max - Average": 896,
                "Slow Max - WxH": "1024×1024",
                "Slow Max - Average": 1024
            },
            "10GB": {
                "Practical Max - WxH": "1024×1024",
                "Practical Max - Average": 1024,
                "Slow Max - WxH": "1152×1152",
                "Slow Max - Average": 1152
            },
            "12GB": {
                "Practical Max - WxH": "1024×1024",
                "Practical Max - Average": 1024,
                "Slow Max - WxH": "1280×1280",
                "Slow Max - Average": 1280
            },
            "16GB": {
                "Practical Max - WxH": "1280×1280",
                "Practical Max - Average": 1280,
                "Slow Max - WxH": "1536×1536",
                "Slow Max - Average": 1536
            },
            "24GB": {
                "Practical Max - WxH": "1536×1536",
                "Practical Max - Average": 1536,
                "Slow Max - WxH": "1792×1792",
                "Slow Max - Average": 1792
            },
            "32GB": {
                "Practical Max - WxH": "1792×1792",
                "Practical Max - Average": 1792,
                "Slow Max - WxH": "2048×2048",
                "Slow Max - Average": 2048
            },
            "40GB": {
                "Practical Max - WxH": "2048×2048",
                "Practical Max - Average": 2048,
                "Slow Max - WxH": "2560×2560",
                "Slow Max - Average": 2560
            }
        },
        "FP32": {
            "8GB": {
                "Practical Max - WxH": "768×768",
                "Practical Max - Average": 768,
                "Slow Max - WxH": "896×896",
                "Slow Max - Average": 896
            },
            "10GB": {
                "Practical Max - WxH": "896×896",
                "Practical Max - Average": 896,
                "Slow Max - WxH": "1024×1024",
                "Slow Max - Average": 1024
            },
            "12GB": {
                "Practical Max - WxH": "896×896",
                "Practical Max - Average": 896,
                "Slow Max - WxH": "1024×1024",
                "Slow Max - Average": 1024
            },
            "16GB": {
                "Practical Max - WxH": "1024×1024",
                "Practical Max - Average": 1024,
                "Slow Max - WxH": "1280×1280",
                "Slow Max - Average": 1280
            },
            "24GB": {
                "Practical Max - WxH": "1280×1280",
                "Practical Max - Average": 1280,
                "Slow Max - WxH": "1536×1536",
                "Slow Max - Average": 1536
            },
            "32GB": {
                "Practical Max - WxH": "1536×1536",
                "Practical Max - Average": 1536,
                "Slow Max - WxH": "1792×1792",
                "Slow Max - Average": 1792
            },
            "40GB": {
                "Practical Max - WxH": "1792×1792",
                "Practical Max - Average": 1792,
                "Slow Max - WxH": "2048×2048",
                "Slow Max - Average": 2048
            },
        },
    },
    "SD 2.1": {
        "FP16": {
            "8GB": {
                "Practical Max - WxH": "1024×1024",
                "Practical Max - Average": 1024,
                "Slow Max - WxH": "1152×1152",
                "Slow Max - Average": 1152
            },
            "10GB": {
                "Practical Max - WxH": "1152×1152",
                "Practical Max - Average": 1152,
                "Slow Max - WxH": "1280×1280",
                "Slow Max - Average": 1280
            },
            "12GB": {
                "Practical Max - WxH": "1280×1280",
                "Practical Max - Average": 1280,
                "Slow Max - WxH": "1536×1536",
                "Slow Max - Average": 1536
            },
            "16GB": {
                "Practical Max - WxH": "1536×1536",
                "Practical Max - Average": 1536,
                "Slow Max - WxH": "1792×1792",
                "Slow Max - Average": 1792
            },
            "24GB": {
                "Practical Max - WxH": "1792×1792",
                "Practical Max - Average": 1792,
                "Slow Max - WxH": "2048×2048",
                "Slow Max - Average": 2048
            },
            "32GB": {
                "Practical Max - WxH": "2048×2048",
                "Practical Max - Average": 2048,
                "Slow Max - WxH": "2304×2304",
                "Slow Max - Average": 2304
            },
            "40GB": {
                "Practical Max - WxH": "2304×2304",
                "Practical Max - Average": 2304,
                "Slow Max - WxH": "2560×2560",
                "Slow Max - Average": 2560
            }
        },
        "FP32": {
            "8GB": {
                "Practical Max - WxH": "896×896",
                "Practical Max - Average": 896,
                "Slow Max - WxH": "1024×1024",
                "Slow Max - Average": 1024
            },
            "10GB": {
                "Practical Max - WxH": "1024×1024",
                "Practical Max - Average": 1024,
                "Slow Max - WxH": "1152×1152",
                "Slow Max - Average": 1152
            },
            "12GB": {
                "Practical Max - WxH": "1152×1152",
                "Practical Max - Average": 1152,
                "Slow Max - WxH": "1280×1280",
                "Slow Max - Average": 1280
            },
            "16GB": {
                "Practical Max - WxH": "1280×1280",
                "Practical Max - Average": 1280,
                "Slow Max - WxH": "1536×1536",
                "Slow Max - Average": 1536
            },
            "24GB": {
                "Practical Max - WxH": "1536×1536",
                "Practical Max - Average": 1536,
                "Slow Max - WxH": "1792×1792",
                "Slow Max - Average": 1792
            },
            "32GB": {
                "Practical Max - WxH": "1792×1792",
                "Practical Max - Average": 1792,
                "Slow Max - WxH": "2048×2048",
                "Slow Max - Average": 2048
            },
            "40GB": {
                "Practical Max - WxH": "2048×2048",
                "Practical Max - Average": 2048,
                "Slow Max - WxH": "2304×2304",
                "Slow Max - Average": 2304
            },
        },
    },
    "SD 3.0" : {
        "FP16" : {
            "8GB" : {
                "Practical Max - WxH" : "640×640",
                "Practical Max - Average" : 640,
                "Slow Max - WxH" : "768×768",
                "Slow Max - Average" : 768
            },
            "10GB" : {
                "Practical Max - WxH" : "768×768",
                "Practical Max - Average" : 768,
                "Slow Max - WxH" : "896×896",
                "Slow Max - Average" : 896
            },
            "12GB" : {
                "Practical Max - WxH" : "768×768",
                "Practical Max - Average" : 768,
                "Slow Max - WxH" : "896×896",
                "Slow Max - Average" : 896
            },
            "16GB" : {
                "Practical Max - WxH" : "896×896",
                "Practical Max - Average" : 896,
                "Slow Max - WxH" : "1024×1024",
                "Slow Max - Average" : 1024
            },
            "24GB" : {
                "Practical Max - WxH" : "1024×1024",
                "Practical Max - Average" : 1024,
                "Slow Max - WxH" : "1280×1280",
                "Slow Max - Average" : 1280
            },
            "32GB" : {
                "Practical Max - WxH" : "1280×1280",
                "Practical Max - Average" : 1280,
                "Slow Max - WxH" : "1536×1536",
                "Slow Max - Average" : 1536
            },
            "40GB" : {
                "Practical Max - WxH" : "1536×1536",
                "Practical Max - Average" : 1536,
                "Slow Max - WxH" : "1792×1792",
                "Slow Max - Average" : 1792
            }
        },
        "FP32" : {
            "8GB" : {
                "Practical Max - WxH" : "512×512",
                "Practical Max - Average" : 512,
                "Slow Max - WxH" : "576×576",
                "Slow Max - Average" : 576
            },
            "10GB" : {
                "Practical Max - WxH" : "640×640",
                "Practical Max - Average" : 640,
                "Slow Max - WxH" : "768×768",
                "Slow Max - Average" : 768
            },
            "12GB" : {
                "Practical Max - WxH" : "640×640",
                "Practical Max - Average" : 640,
                "Slow Max - WxH" : "768×768",
                "Slow Max - Average" : 768
            },
            "16GB" : {
                "Practical Max - WxH" : "768×768",
                "Practical Max - Average" : 768,
                "Slow Max - WxH" : "896×896",
                "Slow Max - Average" : 896
            },
            "24GB" : {
                "Practical Max - WxH" : "896×896",
                "Practical Max - Average" : 896,
                "Slow Max - WxH" : "1024×1024",
                "Slow Max - Average" : 1024
            },
            "32GB" : {
                "Practical Max - WxH" : "1024×1024",
                "Practical Max - Average" : 1024,
                "Slow Max - WxH" : "1280×1280",
                "Slow Max - Average" : 1280
            },
            "40GB" : {
                "Practical Max - WxH" : "1280×1280",
                "Practical Max - Average" : 1280,
                "Slow Max - WxH" : "1536×1536",
                "Slow Max - Average" : 1536
            },
        },
    },
    "SD 3.5" : {
        "FP16" : {
            "8GB" : {
                "Practical Max - WxH" : "704×704",
                "Practical Max - Average" : 704,
                "Slow Max - WxH" : "768×768",
                "Slow Max - Average" : 768,
            },
            "10GB" : {
                "Practical Max - WxH" : "768×768",
                "Practical Max - Average" : 768,
                "Slow Max - WxH" : "896×896",
                "Slow Max - Average" : 896,
            },
            "12GB" : {
                "Practical Max - WxH" : "896×896",
                "Practical Max - Average" : 896,
                "Slow Max - WxH" : "1024×1024",
                "Slow Max - Average" : 1024,
            },
            "16GB" : {
                "Practical Max - WxH" : "1024×1024",
                "Practical Max - Average" : 1024,
                "Slow Max - WxH" : "1280×1280",
                "Slow Max - Average" : 1280,
            },
            "24GB" : {
                "Practical Max - WxH" : "1280×1280",
                "Practical Max - Average" : 1280,
                "Slow Max - WxH" : "1536×1536",
                "Slow Max - Average" : 1536,
            },
            "32GB" : {
                "Practical Max - WxH" : "1536×1536",
                "Practical Max - Average" : 1536,
                "Slow Max - WxH" : "1792×1792",
                "Slow Max - Average" : 1792,
            },
            "40GB" : {
                "Practical Max - WxH" : "1792×1792",
                "Practical Max - Average" : 1792,
                "Slow Max - WxH" : "2048×2048",
                "Slow Max - Average" : 2048,
            },
        },
        "FP32" : {
            "8GB" : {
                "Practical Max - WxH" : "576×576",
                "Practical Max - Average" : 576,
                "Slow Max - WxH" : "640×640",
                "Slow Max - Average" : 640,
            },
            "10GB" : {
                "Practical Max - WxH" : "640×640",
                "Practical Max - Average" : 640,
                "Slow Max - WxH" : "704×704",
                "Slow Max - Average" : 704,
            },
            "12GB" : {
                "Practical Max - WxH" : "704×704",
                "Practical Max - Average" : 704,
                "Slow Max - WxH" : "768×768",
                "Slow Max - Average" : 768,
            },
            "16GB" : {
                "Practical Max - WxH" : "768×768",
                "Practical Max - Average" : 768,
                "Slow Max - WxH" : "896×896",
                "Slow Max - Average" : 896,
            },
            "24GB" : {
                "Practical Max - WxH" : "896×896",
                "Practical Max - Average" : 896,
                "Slow Max - WxH" : "1024×1024",
                "Slow Max - Average" : 1024,
            },
            "32GB" : {
                "Practical Max - WxH" : "1024×1024",
                "Practical Max - Average" : 1024,
                "Slow Max - WxH" : "1280×1280",
                "Slow Max - Average" : 1280,
            },
            "40GB" : {
                "Practical Max - WxH" : "1280×1280",
                "Practical Max - Average" : 1280,
                "Slow Max - WxH" : "1536×1536",
                "Slow Max - Average" : 1536,
            },
        },
    },
    "SD 3.5 Large Turbo" : {
        "FP16" : {
            "10GB" : {
                "Practical Max - WxH" : "640×640",
                "Practical Max - Average" : 640,
                "Slow Max - WxH" : "768×768",
                "Slow Max - Average" : 768,
            },
            "12GB" : {
                "Practical Max - WxH" : "704×704",
                "Practical Max - Average" : 704,
                "Slow Max - WxH" : "768×768",
                "Slow Max - Average" : 768,
            },
            "16GB" : {
                "Practical Max - WxH" : "768×768",
                "Practical Max - Average" : 768,
                "Slow Max - WxH" : "896×896",
                "Slow Max - Average" : 896,
            },
            "24GB" : {
                "Practical Max - WxH" : "1024×1024",
                "Practical Max - Average" : 1024,
                "Slow Max - WxH" : "1280×1280",
                "Slow Max - Average" : 1280,
            },
            "32GB" : {
                "Practical Max - WxH" : "1280×1280",
                "Practical Max - Average" : 1280,
                "Slow Max - WxH" : "1536×1536",
                "Slow Max - Average" : 1536,
            },
            "40GB" : {
                "Practical Max - WxH" : "1536×1536",
                "Practical Max - Average" : 1536,
                "Slow Max - WxH" : "1792×1792",
                "Slow Max - Average" : 1792,
            },
        },
        "FP32" : {
            "10GB" : {
                "Practical Max - WxH" : "576×576",
                "Practical Max - Average" : 576,
                "Slow Max - WxH" : "640×640",
                "Slow Max - Average" : 640,
            },
            "12GB" : {
                "Practical Max - WxH" : "640×640",
                "Practical Max - Average" : 640,
                "Slow Max - WxH" : "704×704",
                "Slow Max - Average" : 704,
            },
            "16GB" : {
                "Practical Max - WxH" : "704×704",
                "Practical Max - Average" : 704,
                "Slow Max - WxH" : "768×768",
                "Slow Max - Average" : 768,
            },
            "24GB" : {
                "Practical Max - WxH" : "768×768",
                "Practical Max - Average" : 768,
                "Slow Max - WxH" : "896×896",
                "Slow Max - Average" : 896,
            },
            "32GB" : {
                "Practical Max - WxH" : "896×896",
                "Practical Max - Average" : 896,
                "Slow Max - WxH" : "1024×1024",
                "Slow Max - Average" : 1024,
            },
            "40GB" : {
                "Practical Max - WxH" : "1024×1024",
                "Practical Max - Average" : 1024,
                "Slow Max - WxH" : "1280×1280",
                "Slow Max - Average" : 1280,
            },
        },
    },
}

class BaseModelResolutionService():
    
    def getModel(self, model : str) -> dict:
        
        model = BASE_MODEL_RES.get(model, None)
        if(model is None):
            raise ValueError(f"Model '{model}' not found in base model resolutions")
        return model
    
    def getPrecision(self, model : str, precision : str) -> dict:

        model = self.getModel(model)
        precision = model.get(precision, None)
        if(precision is None):
            raise ValueError(f"Precision '{precision}' not found for model '{model}'")
        return precision
    
    def getOptions(self, model : str, precision : str, vram : str) -> dict:

        precision = self.getPrecision(model, precision)
        vramOption = precision.get(vram, None)
        if(vramOption is None):
            raise ValueError(f"VRAM option '{vram}' not found for model '{model}' and precision '{precision}'")
        return vramOption

    def getPracticalMaxWxH(self, model : str, precision : str, vram : str) -> str:
        vramOption = self.getOptions(model, precision, vram)
        return vramOption.get("Practical Max - WxH", None)
    
    def getPracticalMaxAverage(self, model : str, precision : str, vram : str) -> int:
        vramOption = self.getOptions(model, precision, vram)
        return vramOption.get("Practical Max - Average", None)
    
    def getSlowMaxWxH(self, model : str, precision : str, vram : str) -> str:
        vramOption = self.getOptions(model, precision, vram)
        return vramOption.get("Slow Max - WxH", None)
    
    def getSlowMaxAverage(self, model : str, precision : str, vram : str) -> int:
        vramOption = self.getOptions(model, precision, vram)
        return vramOption.get("Slow Max - Average", None)
